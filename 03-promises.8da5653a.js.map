{"version":3,"sources":["js/03-promises.js"],"names":["form","document","querySelector","inputDelay","inputStep","inputAmount","onSubmitClick","evt","preventDefault","firstDelay","value","step","amount","delay","i","createPromise","then","position","setTimeout","console","log","catch","promise","Promise","resolve","reject","Math","random","addEventListener"],"mappings":";AAAA,MAAMA,EAAOC,SAASC,cAAc,SAE9BC,EAAaF,SAASC,cAAc,uBAEpCE,EAAYH,SAASC,cAAc,sBAEnCG,EAAcJ,SAASC,cAAc,wBAK3C,SAASI,EAAcC,GACrBA,EAAIC,iBACEC,MAAAA,EAAaN,EAAWO,MAExBC,EAAOP,EAAUM,MACjBE,EAASP,EAAYK,MACvBG,IAAAA,EAAQJ,EAEN,IAAA,IAAIK,EAAI,EAAGA,GAAKF,EAAQE,GAAI,EAChCC,EAAcD,EAAID,GACfG,KAAK,EAAGC,SAAAA,EAAUJ,MAAAA,KAAYK,WAAW,KACxCC,QAAQC,2BAA2BH,QAAeJ,SAChDA,GACHQ,MAAM,EAAGJ,SAAAA,EAAUJ,MAAAA,KAAYK,WAAW,KACzCC,QAAQC,0BAA0BH,QAAeJ,SAC/CA,GACJA,GAASF,EAIf,SAASI,EAAcE,EAAUJ,GASxBS,OARO,IAAIC,QAAQ,SAASC,EAASC,GACpBC,KAAKC,SAAW,GAEtCT,WAAW,KAAOM,EAAQ,CAAEP,SAAAA,EAAUJ,MAAAA,KACrCA,GACDK,WAAW,KAAOO,EAAO,CAAER,SAAAA,EAAUJ,MAAAA,KACpCA,KA7BLb,EAAK4B,iBAAiB,SAAUtB","file":"03-promises.8da5653a.js","sourceRoot":"../src","sourcesContent":["const form = document.querySelector('.form');\n// console.log(form);\nconst inputDelay = document.querySelector('input[name=\"delay\"]');\n// console.log(inputDelay);\nconst inputStep = document.querySelector('input[name=\"step\"]');\n// console.log(inputStep);\nconst inputAmount = document.querySelector('input[name=\"amount\"]');\n// console.log(inputAmount);\n\nform.addEventListener('submit', onSubmitClick);\n\nfunction onSubmitClick(evt) {\n  evt.preventDefault();\n  const firstDelay = inputDelay.value;\n\n  const step = inputStep.value;\n  const amount = inputAmount.value;\n  let delay = firstDelay;\n\n  for ( let i = 0; i <= amount; i +=1) {\n    createPromise(i , delay)\n      .then(({ position, delay }) => setTimeout(() => {\n        console.log(`✅ Fulfilled promise ${position} in ${delay}ms`)\n      }), delay)\n      .catch(({ position, delay }) => setTimeout(() => {\n        console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n      }), delay)\n      delay += step;\n  }\n}\n\nfunction createPromise(position, delay) {\n  let promise = new Promise(function(resolve, reject) {\n    const shouldResolve = Math.random() > 0.3;\n  if (shouldResolve) {\n    setTimeout(() => {resolve({ position, delay })  \n  }, delay)} else {\n    setTimeout(() => {reject({ position, delay })\n  }, delay)  }\n  })\n  return promise\n  \n}\n"]}